<!-- contribute/home.html -->
{% extends "main/base.html" %}
{% block title %}<title>WHG::Contributing</title>{% endblock %}

{% block content %}
{% load static %}
{% load fontawesome %}

  <div class="container">
    <div class="d-flex justify-content-center mt-3">
      <h3>Contribution Dashboard</h3></div>
    <div class="d-flex justify-content-center">
      <h4 class="text-danger">{{ user.username }}</h4></div>
    <div class="px-5">
      <h4>Datasets
        <a href="{% url 'ds_new' %}" class="ml-5">{% fontawesome_icon 'plus-square' color='#336699' %}</a></h4>
      {% for d in datasets %}
        <div class="dataset-box mb-2">
          <h4>{{ d.name }}
            <!-- TODO: confirm popup dialog -->
            <a onclick="return confirm('Are you sure?')" href="{% url 'ds_delete' d.id %}"
            class="float-right">{% fontawesome_icon 'trash' color='#336699' %}</a>
            <!-- TODO: edit (same as create)-->
            <a href="{% url 'ds_update' d.id %}"
            class="float-right mr-3">{% fontawesome_icon 'edit' color='#336699' %}</a>
          </h4>
          <p><b>Slug</b>: {{ d.slug }} <br/>
            <b>Description</b>: {{ d.description }} <br/>
              {% if d.file %}
                <b>File</b>: <span class="text-danger">{{ d.file }}</span><br/>
              {% endif %}
             <b>Uploaded</b>: {{ d.uploaded }}</p>
        </div>
      {% endfor %}
    </div>
  </div>
  <script>
    $(document).on('click', '.confirm-delete', function(){
      var r = confirm('Are you sure ?');
      if (r == true) {

      }
    })
  </script>
{% endblock %}
